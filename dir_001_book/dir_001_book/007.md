---
marp: true
theme: default # gaia, default, uncover,
class: middle # lead, center, middle
size: 4:3 # 4:3, 16:9, 16:10, 2.35:1, 1.85:1
header: "Institute of Technology of Cambodia"
footer: "Object-Oriented Programming with Java"
paginate: true
math: mathjax
typora-copy-images-to: ./images
---

# Chapter 7: <br> Single-Dimensional Arrays

---

## 7.1. Introduction

---

### Definition
- An array is a collection of elements of the same type stored in consecutive memory locations.
- It allows storing multiple values in a single variable.
- Arrays have a fixed size and cannot be resized after creation.
- They are created using the `new` keyword in Java.
- Elements are accessed using an index, starting from 0.
- Arrays can store primitive types (e.g., `int`, `char`, `double`) or objects.
- The index is used to retrieve or modify individual elements in the array.

---

### Why Use Arrays?

- Arrays let you store many values in one place.
- Example: To store 100 numbers, you can use an array instead of 100 separate variables.

---

### How Arrays Work

- Arrays have a fixed size and store elements of the same type.
- Example: `int[] numbers = new int[5];` creates an array for 5 integers.

---

### Accessing Array Elements

- Use an index to access elements. Index starts at 0.
- Example: `numbers[0] = 10;` assigns 10 to the first element.

---

## 7.2. Array Basics

---

### Declaring Array Variables

- An array variable must be declared to reference the array and specify the element type.

**Syntax**:

```java
elementType[] arrayRefVar;
// or
elementType arrayRefVar[];
```

---

### Creating Arrays

- Declaration alone does not allocate memory; use the `new` operator to create an array:

**Syntax**:

```java
arrayRefVar = new elementType[arraySize];
// or combine declaration and creation:
elementType[] arrayRefVar = new elementType[arraySize];
```

**Example**:

```java
double[] myList = new double[10];
```

---

### Array Size and Default Values

- The size of an array is fixed once it is created and accessed using `arrayRefVar.length`.
- Default values: 0 for numeric types, `\u0000` for `char`, and `false` for `boolean`.

---

### Accessing Array Elements

- Access elements using the index: `arrayRefVar[index]`.
- Indices are 0-based, ranging from 0 to `arrayRefVar.length - 1`.

**Example**:

```java
myList[0] = 5.6;
```

---

### Array Initializers

- Shorthand notation for declaring, creating, and initializing arrays in one statement:
  ```java
  elementType[] arrayRefVar = {value0, value1, ..., valuek};
  // **Example**:
  double[] myList = {1.9, 2.9, 3.4, 3.5};
  ```

---

### Using Arrays

**Example**: Filling an Array with Random Values

```java
for (int i = 0; i < myList.length; i++) {
    myList[i] = Math.random() * 100;
}
```

---

**Example**: Printing Array Elements

```java
for (int i = 0; i < myList.length; i++) {
    System.out.print(myList[i] + " ");
}
```

---

**Example**: Calculating the Sum of Array Elements

```java
double total = 0;
for (int i = 0; i < myList.length; i++) {
    total += myList[i];
}
```

---

**Example**: Finding the Maximum Value in an Array

```java
double max = myList[0];
for (int i = 1; i < myList.length; i++) {
    if (myList[i] > max) max = myList[i];
}
```

---

### Foreach Loops

- Java provides a convenient `foreach` loop to traverse arrays without using an index.

**Example**: Using Foreach Loop

```java
for (double e : myList) {
    System.out.println(e);
}
```

---

### Common Errors

- **Off-by-One Error**: Ensure indices range within 0 to `arrayRefVar.length - 1`.
- **ArrayIndexOutOfBoundsException**: Avoid accessing elements beyond the array bounds.

---

## 7.3. Case Study: <br> Analyzing Numbers

Practice.

---

## 7.4. Case Study: <br> Deck of Cards

Practice.

---

## 7.5. Copying Arrays

---

### Assignment vs. Copying

- Using the assignment statement (`=`) does not copy array contents. It only copies the reference, causing both variables to refer to the same array.

**Example**: Assignment Statement

```java
list2 = list1;
```

**Explanation**:

- Both `list1` and `list2` will reference the same array after this statement.

---

### Methods to Copy Arrays

- Using a Loop:
  - Manually copy each element from the source array to the target array.

**Example**: Copying an Array Using a Loop

```java
int[] sourceArray = {2, 3, 1, 5, 10};
int[] targetArray = new int[sourceArray.length];
for (int i = 0; i < sourceArray.length; i++) {
    targetArray[i] = sourceArray[i];
}
```

---

- Using `System.arraycopy()`:
  - A built-in method provided by the `System` class for copying arrays.

**Syntax**:

```java
System.arraycopy(sourceArray, srcPos, targetArray, tarPos, length);
```

**Example**: Copying an Array Using `System.arraycopy()`

```java
int[] sourceArray = {2, 3, 1, 5, 10};
int[] targetArray = new int[sourceArray.length];
System.arraycopy(sourceArray, 0, targetArray, 0, sourceArray.length);
```

---

- Using `clone()`:
  - This method creates a shallow copy of the array.

**Example**: Copying an Array Using `clone()`

```java
int[] sourceArray = {2, 3, 1, 5, 10};
int[] clonedArray = sourceArray.clone();
```

---

### Important Notes

- **Shallow Copy**: Methods like `clone()` create a shallow copy, meaning they copy the elements but not any objects that the elements might reference.
- **Garbage Collection**: When an array reference is reassigned, the original array may become unreferenced and eligible for garbage collection.

---

## 7.6. Passing Arrays to Methods

---

### Passing an Array to a Method

When passing an array to a method, the reference of the array is passed, not the actual array. This allows the method to modify the original array.

- Similar to passing primitive type values, arrays can also be passed as arguments to methods.
- When an array is passed, the reference to the array is passed, allowing the method to access and modify the array elements.

---

**Example** Method to Print Array Elements:

```java
public static void printArray(int[] array) {
    for (int i = 0; i < array.length; i++) {
        System.out.print(array[i] + " ");
    }
}
```

- You can call this method by passing an array:

```java
printArray(new int[]{3, 1, 2, 6, 4, 2});
```

---

### Passing-by-Value and Passing-by-Sharing

- Java uses pass-by-value to pass arguments to a method.
- For a primitive type, the value of the variable is passed.
- For arrays, the reference to the array is passed, making it behave like pass-by-sharing. Changes made to the array within the method affect the original array.

---

**Example**: Demonstrating Pass-by-Sharing

```java
public class TestArrayArguments {
    public static void main(String[] args) {
        int x = 1;
        int[] y = new int[10];
        m(x, y);
        System.out.println("x is " + x);
        System.out.println("y[0] is " + y[0]);
    }

    public static void m(int number, int[] numbers) {
        number = 1001;
        numbers[0] = 5555;
    }
}
```

---

**Explanation**:

- After invoking `m(x, y)`, `x` remains 1, but `y[0]` becomes 5555 because the reference to the array `y` is passed to the method `m`.

---

### Arrays in Memory

- Arrays are objects in Java stored in the heap.
- The reference to the array is stored in the stack, while the array elements are stored in the heap.

---

**Example**: Swapping Elements in an Array

```java
public class SwapArrayElements {
    public static void main(String[] args) {
        int[] array = {1, 2, 3, 4};
        swap(array[0], array[1]); // This won't swap the elements
        swapFirstTwoInArray(array); // This will swap the elements
    }

    public static void swap(int x, int y) {
        int temp = x;
        x = y;
        y = temp;
    }

    public static void swapFirstTwoInArray(int[] array) {
        int temp = array[0];
        array[0] = array[1];
        array[1] = temp;
    }
}
```

---

- The first `swap` method does not work because it swaps local variables, not the array elements. The second method `swapFirstTwoInArray` works because it modifies the array directly.

---

## 7.7. Returning an Array from a Method

---

Returning an array from a method in Java is straightforward. The method should return the array's reference. Here's a summary of the key points:

### Method Declaration

- The method should specify the return type as an array.
- Syntax:
  ```java
  public static elementType[] methodName(parameters) {
      // Method body
  }
  ```

---

### Using the `reverse` Array

**Example**: Reverse an Array

```java
public static int[] reverse(int[] list) {
    int[] result = new int[list.length];
    for (int i = 0, j = result.length - 1; i < list.length; i++, j--) {
        result[j] = list[i];
    }
    return result;
}
```

Explanation:

- The method `reverse` creates a new array `result` to store the reversed elements.
- A loop copies elements from the input array `list` to the `result` array in reverse order.
- The method returns the `result` array.

---

**Example**: To use the `reverse` method:

```java
int[] list1 = {1, 2, 3, 4, 5, 6};
int[] list2 = reverse(list1);
```

**Explanation**:

- The `list1` array contains the original elements.
- The `list2` array will contain the elements of `list1` in reverse order.

---

Important Notes:

- When a method returns an array, it returns a reference to the array. The caller can use this reference to access and modify the array elements.
- Returning a reference is efficient because it avoids copying the entire array.

---

## 7.8. Case Study: <br> Counting the Occurrences of Each Letter

Practice.

---

## 7.9. Variable-Length Argument Lists

---

Java allows methods to accept a variable number of arguments of the same type, which can be treated as an array. Here's a summary of the key points covered in this section:

---

### Syntax for Variable-Length Parameters

- In the method declaration, use the ellipsis (`...`) to specify a variable-length parameter.
- Syntax:
  ```java
  typeName... parameterName
  ```

---

### Rules for Variable-Length Parameters

- Only one variable-length parameter can be specified in a method.
- The variable-length parameter must be the last parameter in the method. Any regular parameters must precede it.

---

### Passing Arguments

- Java treats the variable-length parameter as an array.
- You can pass an array or a variable number of arguments to the variable-length parameter.

---

**Example**: Print Maximum Value from Variable-Length Arguments

```java
public class VarArgsDemo {
    public static void main(String[] args) {
        printMax(34, 3, 3, 2, 56.5);
        printMax(new double[]{1, 2, 3});
    }

    public static void printMax(double... numbers) {
        if (numbers.length == 0) {
            System.out.println("No argument passed");
            return;
        }

        double result = numbers[0];
        for (int i = 1; i < numbers.length; i++) {
            if (numbers[i] > result)
                result = numbers[i];
        }
        System.out.println("The max value is " + result);
    }
}                                                                   .
```

---

- Line 3 invokes the `printMax` method with a variable-length argument list passed to the `numbers` array. If no arguments are passed, the length of the array is 0 (line 8).
- Line 4 invokes the `printMax` method with an array.

---

### Important Notes

- When invoking a method with a variable number of arguments, Java creates an array and passes the arguments to it.

---

## 7.10. Searching Arrays

---

Searching is the process of looking for a specific element within an array. This section introduces two common searching algorithms: linear search and binary search.

### Linear Search

- Linear search compares the key element sequentially with each element in the array.
- It continues until the key is found or the array is exhausted.
- If a match is found, the linear search returns the index of the element; otherwise, it returns -1.

---

**Example**: Linear Search Implementation

```java
public class LinearSearch {
    public static int linearSearch(int[] list, int key) {
        for (int i = 0; i < list.length; i++) {
            if (key == list[i]) {
                return i;
            }
        }
        return -1;
    }
}
```

---

### Binary Search

- Binary search is more efficient than linear search but requires the array to be sorted.
- It compares the key with the middle element of the array:
  1.  If the key is less than the middle element, it searches the first half.
  2.  If the key is equal to the middle element, the search ends.
  3.  If the key is greater than the middle element, it searches the second half.
- This process continues, halving the search range each time, until the key is found or the range is empty.

---

**Example**: Binary Search Implementation

```java
public class BinarySearch {
    public static int binarySearch(int[] list, int key) {
        int low = 0;
        int high = list.length - 1;

        while (high >= low) {
            int mid = (low + high) / 2;
            if (key < list[mid]) {
                high = mid - 1;
            } else if (key == list[mid]) {
                return mid;
            } else {
                low = mid + 1;
            }
        }
        return -low - 1; // Key not found
    }
}                                                                   .
```

---

Efficiency Comparison:

- Linear Search: Time complexity is O(n), where n is the number of elements. It is suitable for small or unsorted arrays.
- Binary Search: Time complexity is O(log n), where n is the number of elements. It is efficient for large, sorted arrays.

---

## 7.11. Sorting Arrays

---

Sorting is a common task in computer programming, and many algorithms have been developed to accomplish it. This section introduces an intuitive sorting algorithm called selection sort.

### Selection Sort Algorithm

- The selection sort algorithm sorts an array by repeatedly finding the smallest element and swapping it with the element at the current position.
- The process is repeated for each position in the array until the entire array is sorted.

---

### Steps of Selection Sort

- Find the Minimum: Find the smallest number in the list and swap it with the first element.
- Repeat the Process: Find the smallest number in the remaining list and swap it with the second element.
- Continue this process until only a single number remains unsorted.

---

**Example**: Sorting a List

- To sort the list {2, 9, 5, 4, 8, 1, 6}, the selection sort algorithm would work as follows:
  - Select 1 (the smallest) and swap it with 2 (the first element).
  - Select 2 (the smallest) and swap it with 9 (the first element in the remaining list).
  - Continue this process for the rest of the elements until the entire list is sorted.

---

### Implementing Selection Sort

- The selection sort can be implemented in Java with a nested loop:

---

**Example**: Selection Sort Implementation

```java
public class SelectionSort {
    / The method for sorting the numbers */
    public static void selectionSort(double[] list) {
        for (int i = 0; i < list.length - 1; i++) {
            // Find the minimum in the list[i..list.length-1]
            double currentMin = list[i];
            int currentMinIndex = i;

            for (int j = i + 1; j < list.length; j++) {
                if (currentMin > list[j]) {
                    currentMin = list[j];
                    currentMinIndex = j;
                }
            }

            // Swap list[i] with list[currentMinIndex] if necessary
            if (currentMinIndex != i) {
                list[currentMinIndex] = list[i];
                list[i] = currentMin;
            }
        }
    }
}                                                                         .
```

---

**Explanation**:

- This method sorts an array of double elements using selection sort.
- The outer loop iterates through each element in the array.
- The inner loop finds the minimum element in the unsorted portion of the array.
- If a smaller element is found, it swaps it with the current element.

---

### Tracing the Algorithm

- To understand the selection sort method better, trace it with the following statements:

```java
double[] list = {1, 9, 4.5, 6.6, 5.7, -4.5};

SelectionSort.selectionSort(list);
```

---

### Modifying Selection Sort

- To sort numbers in decreasing order, modify the selectionSort method to find the maximum instead of the minimum in each iteration.

---

## 7.12. The Arrays Class

---

The `java.util.Arrays` class provides several useful methods for array manipulation, including sorting, searching, comparing, filling, and converting arrays to strings. Here are the key points covered in this section:

---

### Sorting Arrays

- `sort` Method: Sorts an entire array or a specified range within an array.

```java
double[] numbers = {6.0, 4.4, 1.9, 2.9, 3.4, 3.5};

java.util.Arrays.sort(numbers);
// Sorts the entire array

char[] chars = {'a', 'A', '4', 'F', 'D', 'P'};

java.util.Arrays.sort(chars, 1, 3);
// Sorts part of the array (chars[1] to chars[2])
```

---

- `parallelSort` Method: Similar to `sort` but optimized for multi-core processors.

```java
java.util.Arrays.parallelSort(numbers);
// Sorts the entire array in parallel

java.util.Arrays.parallelSort(chars, 1, 3);
// Sorts part of the array in parallel
```

---

### Searching Arrays

- `binarySearch` Method: Searches for a key in a sorted array and returns its index. If the key is not found, returns `-(insertionPoint + 1)`.

```java
int[] list = {2, 4, 7, 10, 11, 45, 50, 59, 60, 66, 69, 70, 79};

int index = java.util.Arrays.binarySearch(list, 11);
// Returns 4

int notFoundIndex = java.util.Arrays.binarySearch(list, 12);
// Returns -6
```

---

### Comparing Arrays

- `equals` Method: Checks if two arrays are strictly equal (same length and elements).

```java
int[] list1 = {2, 4, 7, 10};
int[] list2 = {2, 4, 7, 10};

boolean areEqual = java.util.Arrays.equals(list1, list2);
// Returns true
```

---

### Filling Arrays

- `fill` Method: Fills an entire array or a specified range within an array with a given value.

```java
int[] list = new int[10];

java.util.Arrays.fill(list, 5);
// Fills entire array with 5

java.util.Arrays.fill(list, 2, 5, 8);
// Fills list[2] to list[4] with 8
```

---

### Converting Arrays to Strings

- `toString` Method: Returns a string representation of the array.

**Example**: Converting an Array to a String

```java
int[] list = {2, 4, 7, 10};
String arrayString = java.util.Arrays.toString(list);
```

Output:

```
[2, 4, 7, 10]
```

By utilizing the methods provided by the `java.util.Arrays` class, programmers can efficiently perform common operations on arrays, enhancing their productivity and making their code more readable and maintainable.

---

## 7.13. Command-Line Arguments

---

Java programs can receive input from the command line through command-line arguments. This section covers how to handle and use these arguments.

### The `main` Method

- The `main` method in Java can receive command-line arguments as an array of strings (`String[] args`).

**Syntax**:

```java
public static void main(String[] args) {
    // Code to process args
}
```

---

### Passing Arguments

- Command-line arguments are passed when executing a program from the command line.

**Example**: Command to run a Java program with arguments

```
java TestMain arg0 arg1 arg2
```

- `arg0`, `arg1`, and `arg2` are the arguments passed to `TestMain`.

---

### Handling Arguments in the `main` Method

- You can access and process each argument using `args` array in the `main` method.

**Example**: Printing Command-Line Arguments.

```java
public class TestMain {
    public static void main(String[] args) {
        for (int i = 0; i < args.length; i++) {
            System.out.println(args[i]);
        }
    }
}
```

---

### Creating Arrays for Arguments

- The Java interpreter creates an array to hold the command-line arguments and passes it to `args`.
- If no arguments are passed, the array length is 0.

**Example**: Simple Calculator

- Create a program to perform basic arithmetic operations using command-line arguments.

---

**Example**: Simple Calculator Program

```java
public class Calculator {
    public static void main(String[] args) {
        if (args.length != 3) {
            System.out.println("Usage: java Calculator operand1 operator operand2");
            System.exit(1);
        }

        int result = 0;
        switch (args[1].charAt(0)) {
            case '+':
                result = Integer.parseInt(args[0]) + Integer.parseInt(args[2]);
                break;
            case '-':
                result = Integer.parseInt(args[0]) - Integer.parseInt(args[2]);
                break;
            case '.':
                result = Integer.parseInt(args[0]) * Integer.parseInt(args[2]);
                break;
            case '/':
                result = Integer.parseInt(args[0]) / Integer.parseInt(args[2]);
                break;
        }

        System.out.println(args[0] + " " + args[1] + " " + args[2] + " = " + result);
    }
}
```

---

**Explanation**:

- In this example, the program performs addition, subtraction, multiplication, or division based on the operator passed as the second argument.

**Notes**:

- Enclose multi-word arguments in double quotes when passing them from the command line.
- All command-line arguments are treated as strings, even if they represent numbers.

---

## End of the Chapter

<!-- style: |

  section {
  font-family: Nokora;
  }
  h1 {
  color: black;
  font-size: 50px;
  text-align: center;
  }
  h2 {
  font-size: 40px;
  text-align: center;
  }
  h3 {
  font-size: 30px;
  position: absolute;
  top: 60px;
  }
  h4 {
  font-size: 28px;
  }
  h5 {
  font-size: 28px;
  }
  h6 {
  font-size: 26px;
  }
  p {
  font-size: 26px;
  }
  li {
  font-size: 26px;
  }
  table {
  margin: auto;
  font-size: 20px;
  }
  img {
  display: block;
  margin: 0 auto;
  height: 500px;
  }
  section::after {
  font-size: 20px;
  }

-->
